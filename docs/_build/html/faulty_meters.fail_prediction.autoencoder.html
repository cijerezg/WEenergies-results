

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>faulty_meters.fail_prediction.autoencoder module &mdash; Faulty meters study 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="faulty_meters.fail_prediction.ev_counts module" href="faulty_meters.fail_prediction.ev_counts.html" />
    <link rel="prev" title="faulty_meters.fail_prediction package" href="faulty_meters.fail_prediction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Faulty meters study
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">faulty_meters</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="faulty_meters.html">faulty_meters package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="faulty_meters.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="faulty_meters.anom_kwh_detection.html">faulty_meters.anom_kwh_detection package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="faulty_meters.fail_prediction.html">faulty_meters.fail_prediction package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="faulty_meters.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="faulty_meters.html#module-faulty_meters">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Faulty meters study</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">faulty_meters</a> &raquo;</li>
        
          <li><a href="faulty_meters.html">faulty_meters package</a> &raquo;</li>
        
          <li><a href="faulty_meters.fail_prediction.html">faulty_meters.fail_prediction package</a> &raquo;</li>
        
      <li>faulty_meters.fail_prediction.autoencoder module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/faulty_meters.fail_prediction.autoencoder.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-faulty_meters.fail_prediction.autoencoder">
<span id="faulty-meters-fail-prediction-autoencoder-module"></span><h1>faulty_meters.fail_prediction.autoencoder module<a class="headerlink" href="#module-faulty_meters.fail_prediction.autoencoder" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.AE_architecture">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">faulty_meters.fail_prediction.autoencoder.</span></span><span class="sig-name descname"><span class="pre">AE_architecture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_dim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.AE_architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>It implements the autoencoder neural network. It is fixed to 5 layers,
but it can be modified to n layers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> (<em>integer</em>) – Number of channels to the neural network. For example, if
only KWH will be used, then it is 1. But if KWH and current
are used, then it is 2, etc.</p></li>
<li><p><strong>x_dim</strong> (<em>integer</em>) – Length of the signal.</p></li>
<li><p><strong>z_dim</strong> (<em>integer</em>) – Latent dimension. The autoencoder compresses the signal to
this dimension. The smaller this number is, the higher the
error.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tensor</strong> – The output of the autoencoder neural network with shape identical
to the input shape.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>torch tensor</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.AE_architecture.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.AE_architecture.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.AE_architecture.training">
<span class="sig-name descname"><span class="pre">training</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.AE_architecture.training" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.data_preprocessing">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">faulty_meters.fail_prediction.autoencoder.</span></span><span class="sig-name descname"><span class="pre">data_preprocessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.data_preprocessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class shuffles the data and prepares it to be passed
to the autoencoder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>array</em>) – Daily consumption functioning meters.</p></li>
<li><p><strong>fail</strong> (<em>array</em>) – Daily consumption failing meters.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.data_preprocessing.selection">
<span class="sig-name descname"><span class="pre">selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">firsts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lasts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.data_preprocessing.selection" title="Permalink to this definition">¶</a></dt>
<dd><p>This function selects the meters that were active during
the period of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>firsts</strong> (<em>list</em>) – The first list element contains the array for
functioning meters, second element failing meters</p></li>
<li><p><strong>lasts</strong> (<em>list</em>) – The first list element contains the array for
functioning meters, second element failing meters</p></li>
<li><p><strong>low</strong> (<em>integer</em>) – low bound of interval</p></li>
<li><p><strong>high</strong> (<em>integer</em>) – high bound of interval</p></li>
<li><p><strong>fail_period</strong> (<em>integer</em>) – Only meters that fail from high to high+fail_period
will be included in the failing meters dataset.</p></li>
<li><p><strong>percent</strong> (<em>float</em><em> (</em><em>between 0 and 1</em><em>)</em>) – What percentage of the functioning meters will be used to
train the neural network. If only testing, then select 0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.testing">
<span class="sig-prename descclassname"><span class="pre">faulty_meters.fail_prediction.autoencoder.</span></span><span class="sig-name descname"><span class="pre">testing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.testing" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used wihtin a class, not by itself.
It is used on new data to be tested</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – Array should have size (n,c,m), where n is the number
of samples (meters), c is the number of channels (1 in
this case), and m is the length</p></li>
<li><p><strong>model</strong> (<em>pytorch model</em>) – Extension to the file is .pt</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="faulty_meters.fail_prediction.autoencoder.trainig">
<span class="sig-prename descclassname"><span class="pre">faulty_meters.fail_prediction.autoencoder.</span></span><span class="sig-name descname"><span class="pre">trainig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faulty_meters.fail_prediction.autoencoder.trainig" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is used wihtin a class, not by itself.
It defines the training function required to train
a neural network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>array</em>) – Array should have size (n,c,m), where n is the number
of samples (meters), c is the number of channels (1 in
this case), and m is the length</p></li>
<li><p><strong>model</strong> (<em>pytorch model</em>) – Extension to the file is .pt</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="faulty_meters.fail_prediction.ev_counts.html" class="btn btn-neutral float-right" title="faulty_meters.fail_prediction.ev_counts module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="faulty_meters.fail_prediction.html" class="btn btn-neutral float-left" title="faulty_meters.fail_prediction package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Carlos.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>